# 스트림

스트림은 자바 언어 설계자들의 다음과 같은 고민에 대한 해결방법으로 등장했다.

- SQL 에서 질의를 통해 따로 구현을 명시하지 않고도 원하는 값을 구할 수 있는 기능을 제공하는 것 처럼, 컬렉션에서도 이와 비슷한 기능을 만들 수 있지 않을까?
- 많은 요소를 포함하고 있는 커다락 컬렉션에서 멀티코어 아키텍처를 이용하여 병렬로 연산을 처리하여 값을 가져오고 싶을 때, 간단하게 구현할 수 있는 방법이 있지 않을까?

## 스트림이란 

자바8 API 에서 새롭게 등장한 기능으로 데이터를 처리할 때, 구현 코드 대신 질의를 통해서 컬렉션의 데이터를 처리하고자 등장했다.
또한 스트림을 활용하면 복잡한 멀티스레드 코드를 구현하지 않아도, 컬렉션 데이터를 투명하게 병렬로 처리가 가능하다.

또한 선언형으로 코드를 구현할 수 있다는 것도 장점 중 하나이다. 예를 들어 `저칼로리 음식만 선택하라` 라는 기능을 구현하기 위해서
기존 자바 7 까지는 반복문, 제어문과 같은 제어 블록을 사용하여 어떻게 구현해야할지를 지정해주어야 했다면, 스트림을 통해서는
따로 지정해줄 필요 없이 `저칼로리 음식만``선택해라` 라는 질의만 주면 기능을 수행할 수 있다.

여기에 더불어 동작 파라미터화를 활용하면 보다 유연하게 요구사항에 대응할 수 있게된다. 스트림에는 
filter, sorted, map, collect 와 같은 여러가지 `빌딩 블록 연산`을 연결하여 복잡한 데이터 처리 파이프라인도 
구성할 수 있으며 이렇게 복잡한 데이터 처리 파이프라인을 구현하더라도 제어 블록을 남발하는 것보다 훨씬 가독성과 명확성에서
유리하다.

앞서 언급했던 고수준 빌딩 블록으로 이루어져 있는 빌딩 블록 연산(filter, map, sorted, collect)들은 특정
스레드 모델에 제한되지 않고 어디서든 자유롭게 사용할 수 있으며, 데이터 처리 과정을 `병렬화`하면 스레드와 락 걱정 없이
구현할 수 있다.

위와 같은 내용을 기반으로 스트림의 특징과 장점을 다음과 같이 요약하기도 한다.

- 선언형 : 가독성 UP
- 조립형 : 유연성 UP
- 병렬화 : 성능 UP

스트림의 정의는 다음과 같이 정의할 수 있다. `데이터 처리 연산을 지원하도록 소스에서 추출된 연속된 요소`

위 정의에 대해 하나씩 살펴보면 다음과 같이 분리가 가능하다.

#### 1. 연속된 요소
스트림은 컬렉션과 마찬가지로 특정 요소 형식으로 이루어진 연속된 값 집합의 인터페이스를 제공한다.

#### 2. 소스
스트림은 컬렉션, 배열, I/O 자원 등의 데이터 제공 `소스` 로 부터 데이터를 소비한다. 특히 컬렉션이 소스인 경우
해당 컬렉션에서 정렬된 순서를 그대로 유지한다.

#### 3. 데이터 처리 연산
스트림은 `함수형 프로그래밍 언어에서 일반적으로 지원하는 연산`과 `DB 와 비슷한 연산` 을 지원한다.

또 스트림의 중요한 특징 두 가지를 더 알아보면 다음과 같다.

- 파이프러닝 : 대부분의 스트림 연산은 스트림 연산끼리 연결해서 커다란 파이프라인을 구성할 수 있도록 스트림 자신을 반환한다.
- 내부 반복 : 반복자를 이용하여 명시적으로 반복하는 컬렉션과 다르게 스트림은 내부 반복을 지원한다.

## 스트림 살펴보기

