# 이상한 나라의 객체

객체지향 패러다임은 지식을 추상화하고, 추상화한 지식을 객체 안에 캡슐화함으로써 실세계 문제에 내재된 복잡성을 관리하려고한다. 객체를 발견하고 창조하는 것은 지식과 행동을 구조화하는 문제다.

## 객체지향과 인지능력

객체지향을 직관적이고 이해하기 쉬운 패러다임이라고 부르는 이유는 객체지향이 `세상을 자율적이고 독립적인 객체들로 분해할 수 있는 
인간의 기본적인 인지능력`에 기반을 두고 있기 때문이다. 즉 인간은 본디 좀 더 단순한 객체들로 주변을 분해함으로써 자신이 몸다고 있는 세상을 이해하려고 노력한다.

> 하지만 자동차가 스스로 시동을 걸 수 없고, 통장이 스스로 금액을 인출할 수 없듯이 객체지향과 현실세계에 존재하는 객체는 전혀 다른 모습을 보이는 것이 일반적이다.

## 객체 그리고 소프트웨어 나라

객체의 다양한 특성을 설명하기 위해서는 객체를 다음과 같은 요소들을 지닌 실체로 보는것이 가장 효과적이다.

- 상태(state)
- 행동(behavior)
- 식별자(identity)

### 상태

일반적으로 과거에 발생한 행동의 모든 이력을 통해 현재 발생한 행동의 결과를 판단하는 방식은 복잡하고 번거로우며 이해하기 어렵다. 상태는 이를 해결해줄 수 있는
개념이다. 다음은 그 예시이다.

- 비행기(객체)의 탑승 가능 여부는 항공권의 발권(상태)를 보고 알 수 있다
- 자판기(객체)가 음료수를 배출해낼지의 여부는 자판기의 투입 금액(상태)를 보고 알 수 있다.

이처럼 상태를 이용하면 과거의 모든 행동 이력을 설명하지 않고도 행동의 결과를 쉽게 예측하고 설명할 수 있다. 즉, 상태는 `세상의 복잡성을 완화하고 인지 과부하를 줄일 수 있는 중요한 개념`이다.

그리고 이 객체의 `상태`는 단순한 값과 객체의 조합으로 표현할 수 있으며 이 `상태`를 구성하는 모든 특징들을 통틀어서 객체의 `프로퍼티`(property)라고 한다. 
일반적으로 이 프로퍼티는 `정적`이고 그 값은 `동적`이다. 예를 들어 사람을 키가 150cm 이고 몸무게가 40kg 인 객체라고 본다면 사람을 설명하는 키와 몸무게라는 프로퍼티
자체는 변하지 않는다. 단 그 값은 변할 수 있다.

위 내용을 기반으로 `객체의 상태는 특정 시점에 객체가 가지고 있는 정보의 집합으로 객체의 구조적 특징을 표현하는 요소`라고 표현할 수 있다.

### 행동

밥을 먹으면 몸무게가 늘고, 운동을 하면 근육이 늘어나는 것처럼 `객체의 상태는 스스로 변경되지 않으며 자발적인 행동으로 변경`된다. 
이렇게 `객체의 행동은 상태를 변화`시키지만 `행동의 결과는 객체의 상태에 의존적`이다. 좀 더 이해하기 쉽게 예를 들어보면 밥을 먹으면 몸무게가 `이전 몸무게보다` 늘어난다.

이는 행동을 다음과 같이 두 가지 관점에서 서술할 수 있음을 의미한다.

- 상호작용이 현재의 상태에 `어떤` 방식으로 의존하는가
- 상호작용이 `어떻게` 현재의 상태를 변경시키는가

밥을 먹는다는 행동을 두 가지 관점에서 서술해보면 다음과 같다.

- (밥을 먹었으면 못먹는다는 가정하에) 아직 밥을 먹지 않았다면 밥을 먹을 수 있다.  ( 객체의 상태에 따라 행동의 가능성 여부가 결정된다 )
- 2kg 의 밥을 먹으면 `2kg 의 몸무게가 늘어난다`. ( 행동이 객체의 상태를 변경시킨다 )

> 이렇게 하니까 이해가 잘 안돼서 간단하게 코드로 상황을 표현해봤다.

```java
class Person {

    private boolean hasEaten;
    private int weight;
    
    public void eat(Dish dish) {
        if(!hasEaten) weight += dish.weight;
    }
    
}
```

객체지향의 세계에서 모든 객체는 자율적으로 자신의 상태를 스스로 관리한다. 
그렇기 때문에 어떤 행위가 A와 B 둘의 상태를 모두 변화시킨다면, A 와 B 는 스스로 자신의 상태를 변경해야한다.
여기서 중요한 것은 객체의 자율성을 위해 객체는 자신의 상태를 외부에 노출시키지 않고 행동을 경계로 캡슐화해야한다는 것이다.

> 코드를 빌어 이해하는게 더 쉬울 것 같다. Person 이 갖고 있는 weight 필드(상태)를 변경시키는 방법은 eat 이라는 메서드(행동) 로 제한해야한다.
> 예를 들어 setter 또는 public 선언을 통해 외부에서 직접 weight 에 접근해 필드를 변경시키는 행위는.. 상태 관리 주체가 한정적(자기자신뿐)이지 않으므로 
> 추후 유지보수에 어려움을 겪을 수 있다.
